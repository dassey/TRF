/* ========================================================= */
/* GLOBAL PATCHES (first so they apply to everything)       */
/* ========================================================= */
*,*::before,*::after{box-sizing:border-box;}   /* stop overflow   */
html,body{overflow-x:hidden;}                  /* no side scroll  */

/* -------- control width/height normalisation ------------- */
input:not([type=checkbox]):not([type=radio]),
select,textarea{max-inline-size:100%;}

input[type=date],input[type=time],select{
  height:44px;line-height:1.2;padding-block:.5rem;
}

/* -------- native but enlarged check/radio ---------------- */
input[type=checkbox],input[type=radio]{
  appearance:auto;          /* use platform glyph            */
  transform:scale(1.25);    /* bigger tap target             */
  border:none;              /* remove custom outline         */
  accent-color:#007bff;     /* keep theme colour             */
}

/* ========================================================= */
/* CORE THEME / LAYOUT                                      */
/* ========================================================= */
:root{
  --background-color:#2c2c2e;
  --text-color:#e0e0e0;
  --container-bg:#ffffff;
  --container-text:#333333;
  --input-border:#ccc;
  --input-bg:#f9f9f9;
  --primary-color:#007bff;
  --primary-hover:#0056b3;
  --section-border:#dddddd;
  --label-color:#555555;
  --touch-target:44px;             /* WCAG / Apple HIG */
}
*{-webkit-tap-highlight-color:rgba(0,0,0,0);}

body{
  background:var(--background-color);
  color:var(--text-color);
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;
  margin:0;padding:0;
  display:flex;justify-content:center;align-items:flex-start;
  min-height:100vh;overflow-y:auto;
}
.container{
  background:var(--container-bg);
  color:var(--container-text);
  max-width:850px;width:95%;
  margin:20px auto;padding:25px;
  border-radius:8px;
  box-shadow:0 4px 12px rgba(0,0,0,.15);
}

form{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(300px,1fr));
  gap:20px 25px;
}
form h2{
  grid-column:1/-1;
  text-align:center;
  margin-bottom:25px;
  font-size:clamp(1.4rem,1.1vw+1rem,2.2rem);
}
.section-header{
  grid-column:1/-1;
  font-size:clamp(1.1rem,.9vw+1rem,1.6rem);
  font-weight:600;
  color:var(--primary-color);
  margin-top:25px;
  padding-bottom:8px;
  border-bottom:2px solid var(--primary-color);
}
.full-width-section{grid-column:1/-1}

/* labels & common inputs */
label{display:block;font-weight:600;color:var(--label-color);font-size:.95em;margin-bottom:6px;}
input:not([type=checkbox]):not([type=radio]),select,textarea{
  width:100%;
  padding:.65rem .75rem;
  border:1px solid var(--input-border);
  border-radius:5px;
  font-size:1em;
  background:var(--input-bg);
  min-block-size:var(--touch-target);
  transition:border-color .2s ease;
}
input:focus,select:focus,textarea:focus{
  border-color:var(--primary-color);
  outline:none;
  box-shadow:0 0 0 2px rgba(0,123,255,.2);
}
textarea{resize:vertical;min-height:100px}

/* touch-target label wrapper */
.touch-target{
  display:inline-flex;align-items:center;gap:.5rem;
  padding:.5rem .75rem;min-block-size:var(--touch-target);
  cursor:pointer;user-select:none;
}
.touch-target:active{transform:scale(.96);transition:transform 80ms cubic-bezier(.4,0,.2,1);}
.touch-target:has(:focus-visible){outline:3px solid var(--primary-color);outline-offset:2px;}
@media(prefers-reduced-motion:reduce){.touch-target:active{transition:none;}}

/* group layouts */
.checkbox-group,.radio-group{
  display:flex;flex-wrap:wrap;gap:15px;
  grid-column:1/-1;margin:10px 0;
}
.checkbox-group label,.radio-group label{font-weight:400;margin:0;color:var(--container-text)}

/* -------- revised .input-group rules ---------------------- */
/* base: single-column or column-flex rows */
.input-group{
  display:flex;flex-direction:column;gap:5px;
  flex:1 1 auto;                 /* auto height on mobile   */
  min-width:250px;               /* prevents tiny columns   */
}
/* when row-layout is active (â‰¥ 768 px) */
@media(min-width:768px){
  .row-container .input-group{flex:1 1 250px;}  /* 250 px width */
}

/* row container */
.row-container{
  grid-column:1/-1;
  display:flex;flex-wrap:wrap;gap:20px;align-items:flex-end;
}

/* ETP / B2B row container */
.input-group-row {
    grid-column: 1/-1;
    display: flex;
    flex-wrap: wrap;
    gap: 20px 25px;
    align-items: flex-end;
}

.button-container{grid-column:1/-1;display:flex;justify-content:center;margin-top:30px;}
button{
  padding:14px 35px;border:none;border-radius:5px;
  background:var(--primary-color);color:#fff;
  font-size:1.1em;font-weight:600;
  cursor:pointer;min-block-size:var(--touch-target);
  transition:background-color .2s ease;
}
button:hover{background:var(--primary-hover);}

/* conditional blocks */
.conditional-section{
  display:none;
  grid-column:1/-1;padding:15px;margin-top:15px;
  border:1px solid var(--section-border);
  border-radius:5px;background:#fdfdfd;
}
.conditional-section .section-header,
.conditional-section .section-subheader{
  margin-top:0;padding-bottom:8px;font-size:1.2em;
  color:var(--label-color);
  border-bottom:1px solid var(--section-border);
  margin-bottom:15px;
}
.conditional-section .section-subheader{
  font-size:1.1em;font-weight:600;color:var(--container-text);margin-top:15px;
}

/* responsive tweaks */
@media(max-width:768px){
  .container{width:95%;padding:15px;margin-top:10px}
  form{grid-template-columns:1fr;gap:15px}
  .row-container{flex-direction:column;gap:15px;align-items:stretch}
  .row-container .input-group{min-width:0}
  button{width:100%;padding:15px;font-size:1em}
  .conditional-section{padding:10px}
}
@media(max-width:480px){
  body{font-size:15px}
  .container{width:100%;margin:0;padding:10px;border-radius:0;box-shadow:none}
  input:not([type=checkbox]):not([type=radio]),select,textarea{padding:10px}
  button{padding:12px}
}
